(this.webpackJsonpTBD=this.webpackJsonpTBD||[]).push([[0],{37:function(e,t){},42:function(e,t,a){e.exports=a(78)},47:function(e,t,a){},78:function(e,t,a){"use strict";a.r(t);var n=a(1),r=a.n(n),s=a(35),o=a.n(s),i=(a(47),a(39)),c=a(10),l=a(36),u=a(15),m=a(16),p=a(18),h=a(17),d=a(19),g=a(6),f=a.n(g),v={getJWT:function(){return localStorage.getItem("JWToken")},setJWT:function(e){localStorage.setItem("JWToken",e)},login:function(e){var t=this,a=e.email,n=e.password;return f.a.post("/api/login",{email:a,password:n}).then((function(e){return e.data.token&&t.setJWT(e.data.token),Promise.resolve(e)}))},logout:function(){localStorage.removeItem("JWToken"),window.location="/"},getUserId:function(){},getUser:function(e){var t=this,a=this.getJWT();return f.a.get("/api/user/"+e,{headers:{Authorization:"Bearer ".concat(a)}}).catch((function(e){return 401===e.response.status&&(console.log("Unauthorized"),t.logout()),Promise.reject(e)}))},deleteUser:function(e){var t=this,a=this.getJWT();return f.a.delete("/api/user/"+e,{headers:{Authorization:"Bearer ".concat(a)}}).catch((function(e){return 401===e.response.status&&(console.log("Unauthorized"),t.logout()),Promise.reject(e)}))},saveUser:function(e){return f.a.post("/api/user",e)},updateUser:function(e){var t=this,a=e._id,n={firstName:e.firstName,lastName:e.lastName,email:e.email,password:e.password,address:e.address,city:e.city,state:e.state,zip:e.zip,phone:e.phone},r=this.getJWT();return f.a.put("/api/user/"+a,n,{headers:{Authorization:"Bearer ".concat(r)}}).catch((function(e){return 401===e.response.status&&t.logout(),Promise.reject(e)}))},getTasks:function(){var e=this,t=this.getJWT();return f.a.get("/api/tasklist",{headers:{Authorization:"Bearer ".concat(t)}}).catch((function(t){return 401===t.response.status&&(console.log("Unauthorized"),e.logout()),Promise.reject(t)}))},getTask:function(e){var t=this,a=this.getJWT();return f.a.get("/api/tasklist/"+e,{headers:{Authorization:"Bearer ".concat(a)}}).catch((function(e){return 401===e.response.status&&(console.log("Unauthorized"),t.logout()),Promise.reject(e)}))},deleteTask:function(e){var t=this,a=this.getJWT();return f.a.delete("/api/tasklist/"+e,{headers:{Authorization:"Bearer ".concat(a)}}).catch((function(e){return 401===e.response.status&&(console.log("Unauthorized"),t.logout()),Promise.reject(e)}))},saveTask:function(e){var t=this,a=this.getJWT();return f.a.post("/api/tasklist",e,{headers:{Authorization:"Bearer ".concat(a)}}).catch((function(e){return 401===e.response.status&&(console.log("Unauthorized"),t.logout()),Promise.reject(e)}))},saveUserTasks:function(e){var t=e.id;return f.a.put("/api/usertasklist/"+t,e)},getUserTasks:function(e){return f.a.get("/api/usertasklist/"+e)},updateTask:function(e){var t=this,a=this.getJWT(),n=e._id;return f.a.put("/api/tasklist/"+n,e,{headers:{Authorization:"Bearer ".concat(a)}}).catch((function(e){return 401===e.response.status&&(console.log("Unauthorized"),t.logout()),Promise.reject(e)}))}},w=function(e){function t(){var e,a;Object(u.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(p.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(r)))).state={email:"",password:""},a.handleInputChange=function(e){var t=e.target.value,n=e.target.name;"password"===n&&(t=t.substring(0,30)),a.setState(Object(l.a)({},n,t))},a.handleFormSubmit=function(e){e.preventDefault(),a.state.email&&a.state.password?(v.login({email:a.state.email,password:a.state.password}).then((function(e){e.data.message?alert(e.data.message):window.location="/profile/"+e.data.sub})).catch((function(e){return console.log(e)})),a.setState({email:"",password:""})):alert("Please enter your email and password to login")},a}return Object(d.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"bg"},r.a.createElement("nav",{className:"transparent z-depth-0"},r.a.createElement("div",{className:"nav-wrapper"},r.a.createElement("ul",{id:"nav-mobile",className:"right"},r.a.createElement("li",null,r.a.createElement("a",{href:"/Signup",className:"blue-grey-text darken-10-text"},"Sign Up"))))),r.a.createElement("div",{className:"container blur homeForm"},r.a.createElement("div",{className:"row"},r.a.createElement("form",{className:"col s12"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"input-field col s6"},r.a.createElement("input",{name:"email",type:"email",placheholder:"abc@domain.com",value:this.state.email,onChange:this.handleInputChange}),r.a.createElement("label",{for:"email",className:"teal-text accent-4-text"},"Email")),r.a.createElement("div",{className:"input-field col s6"},r.a.createElement("input",{name:"password",type:"password",placheholder:"******",value:this.state.password,onChange:this.handleInputChange}),r.a.createElement("label",{for:"password",className:"teal-text accent-4-text"},"Password"))),r.a.createElement("div",{className:"center-align"},r.a.createElement("button",{className:"btn waves-effect waves-light",id:"loginBtn",onClick:this.handleFormSubmit},"Log In"))))))}}]),t}(n.Component),b=a(37),k=a.n(b),E=a(64);a(73),E.initializeApp({apiKey:"AIzaSyBSlVnwMk5kaOT-q9jsqIx6B7kV4KkXXvI",authDomain:"project3message.firebaseapp.com",databaseURL:"https://project3message.firebaseio.com",projectId:"project3message",storageBucket:"project3message.appspot.com",messagingSenderId:"965192004402",appId:"1:965192004402:web:705bb442d0491e98855d2b",measurementId:"G-R0LS8X4W5L"});var j=function(e){function t(){return Object(u.a)(this,t),Object(p.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,"Hello World from Chat")}}]),t}(r.a.Component),T=function(){return r.a.createElement(i.a,null,r.a.createElement("div",null,r.a.createElement(c.c,null,r.a.createElement(c.a,{exact:!0,path:"/",component:w}),r.a.createElement(c.a,{exact:!0,path:"/signup",component:k.a}),r.a.createElement(c.a,{path:"/chat",component:j}))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(T,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[42,1,2]]]);
//# sourceMappingURL=main.0941a53b.chunk.js.map